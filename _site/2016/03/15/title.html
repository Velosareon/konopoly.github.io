<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>write a function to take a list of time ranges and return a list of condensed ranges</title>
    <meta name="description" content="">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="/2016/03/15/title.html">

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <nav class="site-nav">

      <div class="trigger">
        <!--  instead of blog -->
        <a class="page-link" href="/">blog</a>

        
          
          <a class="page-link" href="/about/">about</a>
          
        
          
        
          
        
          
          <a class="page-link" href="/projects/">projects</a>
          
        

      </div>
    </nav>

  </div>

</header>



    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">write a function to take a list of time ranges and return a list of condensed ranges</h1>
    <p class="post-meta">March 15, 2016 — 19:09</p>
  </header>

  <article class="post-content">
    <p>Determine what times of day everybody is available for a meeting. Meetings are stored as objects of the Meeting class with integer variables startTime and endTime. The integers represent the number of 30-minute blocks past 9:00AM.</p>

<p>Example:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">//given Meeting objects</span>
<span class="k">new</span> <span class="nf">Meeting</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">4</span><span class="o">);</span> <span class="c1">// meeting from 10:00AM – 11:00AM</span>
<span class="k">new</span> <span class="nf">Meeting</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">5</span><span class="o">);</span> <span class="c1">// meeting from 10:30AM – 11:30AM</span>

<span class="c1">//store the Meeting objects in a List</span>
<span class="o">[(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">4</span><span class="o">),</span> <span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">5</span><span class="o">)]</span>

<span class="c1">//return the condensed range of meeting times</span>
<span class="c1">//times not included are times where everybody is available</span>
<span class="o">[(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">5</span><span class="o">)]</span></code></pre></figure>

<p>Code Overview:
Since it is not assumed that the meeting times are in order, the list should first be sorted
according to the startTime of the meeting. Next declare a new List to store merged meeting times. Two meetings have overlapping times between them if the startTime of the first meeting is bigger than or equal to the endTime of the second meeting. When there is an overlap a new meeting is created with the startTime being the smaller of the two from the previous startTimes and the endTime being the bigger of the two from the previous endTimes.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">P4</span>
<span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span>
  <span class="o">{</span>
    <span class="c1">//Meeting(startTime, endTime)</span>
    <span class="n">Meeting</span> <span class="n">firstMeeting</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Meeting</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">);</span> <span class="c1">//9:00AM – 9:30AM</span>
    <span class="n">Meeting</span> <span class="n">secondMeeting</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Meeting</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span><span class="mi">5</span><span class="o">);</span> <span class="c1">//10:30AM – 11:30AM</span>
    <span class="n">Meeting</span> <span class="n">thirdMeeting</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Meeting</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span><span class="mi">7</span><span class="o">);</span> <span class="c1">//10:00AM – 12:30PM</span>
    
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Meeting</span><span class="o">&gt;</span> <span class="n">meetings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Meeting</span><span class="o">&gt;();</span>
    <span class="c1">//adds Meeting objects to meetings list</span>
    <span class="n">meetings</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">firstMeeting</span><span class="o">);</span>
    <span class="n">meetings</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">secondMeeting</span><span class="o">);</span>
    <span class="n">meetings</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">thirdMeeting</span><span class="o">);</span>
    
    <span class="c1">//sorts list according to start time of each list entry</span>
    <span class="n">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">meetings</span><span class="o">,</span> <span class="k">new</span> <span class="nf">MeetingStartTimeComparator</span><span class="o">());</span>
    
    <span class="c1">//list for holding merged meeting times</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Meeting</span><span class="o">&gt;</span> <span class="n">mergedList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Meeting</span><span class="o">&gt;();</span>
    <span class="c1">//initialized mergedList with first element from list</span>
    <span class="n">mergedList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">meetings</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">));</span>
    
    <span class="c1">//iterate throught list and merge overlapping meeting times</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">meetings</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span>
    <span class="o">{</span>
      <span class="n">meetings</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
      <span class="c1">//holds the most recent entry into the mergedList list</span>
      <span class="n">Meeting</span> <span class="n">lastMergedMeeting</span> <span class="o">=</span> <span class="n">mergedList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">mergedList</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
      
      <span class="k">if</span> <span class="o">(</span><span class="n">meetings</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">startTime</span> <span class="o">&lt;=</span> <span class="n">lastMergedMeeting</span><span class="o">.</span><span class="na">endTime</span><span class="o">)</span>
      <span class="o">{</span>
        <span class="n">lastMergedMeeting</span><span class="o">.</span><span class="na">endTime</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">lastMergedMeeting</span><span class="o">.</span><span class="na">endTime</span><span class="o">,</span> 
            <span class="n">meetings</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">endTime</span><span class="o">);</span>
      <span class="o">}</span>
      
      <span class="c1">//no overlap</span>
      <span class="k">else</span>
      <span class="o">{</span>
        <span class="n">mergedList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">meetings</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Meeting</span>
<span class="o">{</span>
  <span class="kt">int</span> <span class="n">startTime</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">endTime</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">Meeting</span><span class="o">(</span><span class="kt">int</span> <span class="n">startTime</span><span class="o">,</span> <span class="kt">int</span> <span class="n">endTime</span><span class="o">)</span>
  <span class="o">{</span>
    <span class="c1">// number of 30 min blocks past 9:00 am</span>
    <span class="k">this</span><span class="o">.</span><span class="na">startTime</span> <span class="o">=</span> <span class="n">startTime</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">endTime</span> <span class="o">=</span> <span class="n">endTime</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="c1">//starttime getter</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getStartTime</span><span class="o">()</span>
  <span class="o">{</span>
    <span class="k">return</span> <span class="n">startTime</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="c1">//endtime getter</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getEndTime</span><span class="o">()</span>
  <span class="o">{</span>
    <span class="k">return</span> <span class="n">endTime</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span>
  <span class="o">{</span>
    <span class="k">return</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;(%d, %d)&quot;</span><span class="o">,</span> <span class="n">startTime</span><span class="o">,</span> <span class="n">endTime</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="c1">//MeetingStartTimeComparator class implements Comparator interface</span>
<span class="kd">class</span> <span class="nc">MeetingStartTimeComparator</span> <span class="kd">implements</span> <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Meeting</span><span class="o">&gt;</span>
<span class="o">{</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="n">Meeting</span> <span class="n">meeting1</span><span class="o">,</span> <span class="n">Meeting</span> <span class="n">meeting2</span><span class="o">)</span>
  <span class="o">{</span>
    <span class="k">return</span> <span class="n">meeting1</span><span class="o">.</span><span class="na">getStartTime</span><span class="o">()</span> <span class="o">-</span> <span class="n">meeting2</span><span class="o">.</span><span class="na">getStartTime</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></figure>


  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">
      
  </div>

</footer>


  </body>

</html>
